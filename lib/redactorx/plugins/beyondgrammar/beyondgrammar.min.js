RedactorX.add("plugin","beyondgrammar",{subscribe:{"editor.docmousedown":function(t){var r=t.get("e");r&&this._isPwa(r)&&r.preventDefault()},"editor.before.blur":function(t){var r=t.get("e");r&&this._isPwa(r)&&t.stop()},"editor.unparse":function(t){var r=t.get("html");r=this.app.utils.wrap(r,function(t){t.find(".pwa-mark").unwrap()}),t.set("html",r)}},start:function(){this.GrammarChecker=this._getGrammarChecker(),this.opts.beyondgrammar&&this.GrammarChecker&&this._activate()},_isPwa:function(t){return this.dom(t.target).hasClass("pwa-suggest")},_activate:function(){this.$editor=this.app.editor.getEditor(),this.$editor.attr("spellcheck",!1);var t=new this.GrammarChecker(this.$editor.get(),this.opts.beyondgrammar.service,this.opts.beyondgrammar.grammar);t.init().then(function(){t.activate()})},_getGrammarChecker:function(){return void 0!==window.BeyondGrammar&&window.BeyondGrammar.GrammarChecker}});